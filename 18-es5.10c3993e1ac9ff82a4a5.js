!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function e(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{vL8p:function(t,i,o){"use strict";o.r(i),o.d(i,"HistoricoCorridasPageModule",(function(){return M}));var r=o("tyNb"),a=o("mrSG"),c=o("wd/R"),s=o("fXoL"),l=o("Dp36"),b=o("TEn/"),u=o("fkzy"),d=o("9qa2"),p=o("3Pt+"),f=o("ofXK");function h(n,t){1&n&&(s.Lb(0,"span"),s.lc(1,"Nenhuma entrega realizada no per\xedodo"),s.Kb())}function m(n,t){if(1&n&&(s.Lb(0,"h3",12),s.lc(1),s.Kb()),2&n){var e=t.$implicit;s.yb(1),s.nc("",e.enderecoDestino," ")}}function g(n,t){if(1&n&&(s.Lb(0,"ion-item"),s.Lb(1,"ion-label"),s.Lb(2,"h2"),s.lc(3),s.Wb(4,"date"),s.Wb(5,"currency"),s.Kb(),s.Lb(6,"h3",12),s.lc(7),s.Kb(),s.Lb(8,"h3",12),s.lc(9,"Para: "),s.Kb(),s.kc(10,m,2,1,"h3",13),s.Kb(),s.Kb()),2&n){var e=t.$implicit;s.yb(3),s.oc("",s.Yb(4,4,e.dataFinalizada,"dd/MM/yyyy - HH:mm","GMT--3")," - ",s.Zb(5,8,e.valorEntregador+e.valorApp,"BRL",!0,"1.2"),""),s.yb(4),s.nc("Retirada em: ",e.enderecoOrigem," "),s.yb(3),s.cc("ngForOf",e.entregas)}}var v,y,L,k=[{path:"",component:(v=function(){function t(e,i,o,r){n(this,t),this.api=e,this.modalController=i,this.navController=o,this.utils=r,this.corridas=[],this.usuarioLogado={}}return e(t,[{key:"ionViewWillEnter",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.usuarioLogado=this.api.retornaUsuarioLogado(),this.dataInicial=c().subtract(1,"month").toDate().toISOString(),this.dataFinal=c().toDate().toISOString(),this.pesquisar();case 1:case"end":return n.stop()}}),n,this)})))}},{key:"pesquisar",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t="?dataInicial="+c(this.dataInicial).format("YYYY-MM-DD"),t+="&dataFinal="+c(this.dataFinal).format("YYYY-MM-DD"),n.next=5,this.api.get("seguro-cliente/corrida/historico"+t);case 5:if(!(e=n.sent).error){n.next=8;break}return n.abrupt("return",void this.utils.mensagemAviso(e.error));case 8:this.corridas=e.data,n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),this.utils.log(n.t0),this.utils.mensagemAviso("Ocorreu um erro ao pesquisar");case 14:case"end":return n.stop()}}),n,this,[[0,11]])})))}},{key:"receberPorEmail",value:function(){this.utils.mensagemAviso("Indispon\xedvel no momento.")}},{key:"voltar",value:function(){this.navController.navigateRoot(["/meus-dados"])}}]),t}(),v.\u0275fac=function(n){return new(n||v)(s.Ib(l.a),s.Ib(b.z),s.Ib(b.A),s.Ib(u.a))},v.\u0275cmp=s.Cb({type:v,selectors:[["app-historico-corridas"]],decls:25,vars:5,consts:[["appScrollbarTheme","",1,"historico-corrida",3,"fullscreen"],[1,"botao-sair-x",3,"click"],["name","close-outline"],[1,"logo-miniatura-top"],["src","/assets/logoMiniatura.png"],["displayFormat","DD/MM/YYYY","doneText","Pronto","cancelText","Cancelar",3,"ngModel","ngModelChange"],["expand","block",3,"click"],["expand","block",1,"botao-acao-secundaria","botao-acao-secundaria-card",3,"click"],["name","mail-outline"],[4,"ngIf"],[1,"lista-historico"],[4,"ngFor","ngForOf"],[2,"white-space","normal"],["style"," white-space: normal;",4,"ngFor","ngForOf"]],template:function(n,t){1&n&&(s.Lb(0,"ion-content",0),s.Lb(1,"div",1),s.Tb("click",(function(){return t.voltar()})),s.Jb(2,"ion-icon",2),s.Kb(),s.Lb(3,"div",3),s.Jb(4,"img",4),s.Kb(),s.Lb(5,"ion-card"),s.Lb(6,"ion-card-content"),s.Lb(7,"h5"),s.lc(8,"Hist\xf3rico de entregas"),s.Kb(),s.Lb(9,"ion-item"),s.Lb(10,"ion-label"),s.lc(11,"In\xedcio"),s.Kb(),s.Lb(12,"ion-datetime",5),s.Tb("ngModelChange",(function(n){return t.dataInicial=n})),s.Kb(),s.Kb(),s.Lb(13,"ion-item"),s.Lb(14,"ion-label"),s.lc(15,"Fim"),s.Kb(),s.Lb(16,"ion-datetime",5),s.Tb("ngModelChange",(function(n){return t.dataFinal=n})),s.Kb(),s.Kb(),s.Lb(17,"ion-button",6),s.Tb("click",(function(){return t.pesquisar()})),s.lc(18,"Pesquisar"),s.Kb(),s.Lb(19,"ion-button",7),s.Tb("click",(function(){return t.receberPorEmail()})),s.lc(20," Relat\xf3rio por e-mail "),s.Jb(21,"ion-icon",8),s.Kb(),s.kc(22,h,2,0,"span",9),s.Lb(23,"ion-list",10),s.kc(24,g,11,13,"ion-item",11),s.Kb(),s.Kb(),s.Kb(),s.Kb()),2&n&&(s.cc("fullscreen",!0),s.yb(12),s.cc("ngModel",t.dataInicial),s.yb(4),s.cc("ngModel",t.dataFinal),s.yb(6),s.cc("ngIf",!t.corridas||0==t.corridas.length),s.yb(2),s.cc("ngForOf",t.corridas))},directives:[b.h,d.a,b.j,b.f,b.g,b.l,b.m,b.i,b.C,p.g,p.h,b.e,f.l,b.n,f.k],pipes:[f.e,f.c],styles:["ion-content[_ngcontent-%COMP%]{--background:#513dd9}h5[_ngcontent-%COMP%]{text-align:center}"]}),v)}],K=((y=e((function t(){n(this,t)}))).\u0275mod=s.Gb({type:y}),y.\u0275inj=s.Fb({factory:function(n){return new(n||y)},imports:[[r.i.forChild(k)],r.i]}),y),w=o("onrN"),M=((L=e((function t(){n(this,t)}))).\u0275mod=s.Gb({type:L}),L.\u0275inj=s.Fb({factory:function(n){return new(n||L)},imports:[[w.a,K]]}),L)}}])}();