!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{vL8p:function(n,i,o){"use strict";o.r(i),o.d(i,"HistoricoCorridasPageModule",(function(){return M}));var r=o("tyNb"),a=o("mrSG"),c=o("wd/R"),s=o("fXoL"),b=o("Dp36"),l=o("TEn/"),u=o("fkzy"),d=o("9qa2"),g=o("3Pt+"),f=o("ofXK");function h(t,n){1&t&&(s.Lb(0,"span"),s.lc(1,"Nenhuma entrega realizada no per\xedodo"),s.Kb())}function m(t,n){if(1&t&&(s.Lb(0,"div",14),s.Lb(1,"h3",12),s.lc(2),s.Kb(),s.Lb(3,"h3",12),s.lc(4),s.Kb(),s.Lb(5,"h3",12),s.lc(6),s.Kb(),s.Kb()),2&t){var e=n.$implicit;s.yb(2),s.nc("Entrega em: ",e.enderecoDestino," "),s.yb(2),s.nc("Anota\xe7\xf5es: ",e.descricao," "),s.yb(2),s.nc("O que ser\xe1 entregue: ",e.conteudoEntrega?e.conteudoEntrega:"N\xe3o informado"," ")}}function p(t,n){if(1&t&&(s.Lb(0,"ion-item"),s.Lb(1,"ion-label"),s.Lb(2,"h2"),s.lc(3),s.Kb(),s.Lb(4,"h3"),s.lc(5),s.Wb(6,"date"),s.Wb(7,"currency"),s.Kb(),s.Lb(8,"h3",12),s.lc(9),s.Kb(),s.kc(10,m,7,3,"div",13),s.Kb(),s.Kb()),2&t){var e=n.$implicit;s.yb(3),s.nc("ID: ",e.id,""),s.yb(2),s.oc("",s.Yb(6,5,e.dataFinalizada,"dd/MM/yyyy - HH:mm","GMT--3")," - ",s.Zb(7,9,e.valorEntregador+e.valorApp,"BRL",!0,"1.2"),""),s.yb(4),s.nc("Retirada em: ",e.enderecoOrigem," "),s.yb(1),s.cc("ngForOf",e.entregas)}}var v,y,L,k=[{path:"",component:(v=function(){function n(e,i,o,r){t(this,n),this.api=e,this.modalController=i,this.navController=o,this.utils=r,this.corridas=[],this.usuarioLogado={}}return e(n,[{key:"ionViewWillEnter",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.usuarioLogado=this.api.retornaUsuarioLogado(),this.dataInicial=c().subtract(1,"month").toDate().toISOString(),this.dataFinal=c().toDate().toISOString(),this.pesquisar();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"retornaParametros",value:function(){var t="?dataInicial="+c(this.dataInicial).format("YYYY-MM-DD");return t+="&dataFinal="+c(this.dataFinal).format("YYYY-MM-DD")}},{key:"pesquisar",value:function(){return Object(a.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=this.retornaParametros(),t.next=4,this.api.get("seguro-cliente/corrida/historico"+n);case 4:if(!(e=t.sent).error){t.next=7;break}return t.abrupt("return",void this.utils.mensagemAviso(e.error));case 7:this.corridas=e.data,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),this.utils.log(t.t0),this.utils.mensagemAviso("Ocorreu um erro ao pesquisar");case 13:case"end":return t.stop()}}),t,this,[[0,10]])})))}},{key:"baixarPDF",value:function(){try{var t=this.retornaParametros();this.api.abreRelatorio("seguro-cliente/corrida/historico/pdf"+t)}catch(n){this.utils.log(n),this.utils.mensagemAviso("Ocorreu um erro ao gerar o relat\xf3rio")}}},{key:"voltar",value:function(){this.navController.navigateRoot(["/meus-dados"])}}]),n}(),v.\u0275fac=function(t){return new(t||v)(s.Ib(b.a),s.Ib(l.z),s.Ib(l.A),s.Ib(u.a))},v.\u0275cmp=s.Cb({type:v,selectors:[["app-historico-corridas"]],decls:25,vars:5,consts:[["appScrollbarTheme","",1,"historico-corrida",3,"fullscreen"],[1,"botao-sair-x",3,"click"],["name","close-outline"],[1,"logo-miniatura-top"],["src","/assets/logoMiniatura.png"],["displayFormat","DD/MM/YYYY","doneText","Pronto","cancelText","Cancelar",3,"ngModel","ngModelChange"],["expand","block",3,"click"],["expand","block",1,"botao-acao-secundaria","botao-acao-secundaria-card",3,"click"],["name","cloud-download-outline"],[4,"ngIf"],[1,"lista-historico"],[4,"ngFor","ngForOf"],[2,"white-space","normal"],["class","item-entrega",4,"ngFor","ngForOf"],[1,"item-entrega"]],template:function(t,n){1&t&&(s.Lb(0,"ion-content",0),s.Lb(1,"div",1),s.Tb("click",(function(){return n.voltar()})),s.Jb(2,"ion-icon",2),s.Kb(),s.Lb(3,"div",3),s.Jb(4,"img",4),s.Kb(),s.Lb(5,"ion-card"),s.Lb(6,"ion-card-content"),s.Lb(7,"h5"),s.lc(8,"Hist\xf3rico de entregas"),s.Kb(),s.Lb(9,"ion-item"),s.Lb(10,"ion-label"),s.lc(11,"In\xedcio"),s.Kb(),s.Lb(12,"ion-datetime",5),s.Tb("ngModelChange",(function(t){return n.dataInicial=t})),s.Kb(),s.Kb(),s.Lb(13,"ion-item"),s.Lb(14,"ion-label"),s.lc(15,"Fim"),s.Kb(),s.Lb(16,"ion-datetime",5),s.Tb("ngModelChange",(function(t){return n.dataFinal=t})),s.Kb(),s.Kb(),s.Lb(17,"ion-button",6),s.Tb("click",(function(){return n.pesquisar()})),s.lc(18,"Pesquisar"),s.Kb(),s.Lb(19,"ion-button",7),s.Tb("click",(function(){return n.baixarPDF()})),s.lc(20," Baixar PDF "),s.Jb(21,"ion-icon",8),s.Kb(),s.kc(22,h,2,0,"span",9),s.Lb(23,"ion-list",10),s.kc(24,p,11,14,"ion-item",11),s.Kb(),s.Kb(),s.Kb(),s.Kb()),2&t&&(s.cc("fullscreen",!0),s.yb(12),s.cc("ngModel",n.dataInicial),s.yb(4),s.cc("ngModel",n.dataFinal),s.yb(6),s.cc("ngIf",!n.corridas||0==n.corridas.length),s.yb(2),s.cc("ngForOf",n.corridas))},directives:[l.h,d.a,l.j,l.f,l.g,l.l,l.m,l.i,l.C,g.g,g.h,l.e,f.l,l.n,f.k],pipes:[f.e,f.c],styles:["ion-content[_ngcontent-%COMP%]{--background:#513dd9}h5[_ngcontent-%COMP%]{text-align:center}.item-entrega[_ngcontent-%COMP%]{margin-bottom:5px}"]}),v)}],K=((y=e((function n(){t(this,n)}))).\u0275mod=s.Gb({type:y}),y.\u0275inj=s.Fb({factory:function(t){return new(t||y)},imports:[[r.i.forChild(k)],r.i]}),y),w=o("onrN"),M=((L=e((function n(){t(this,n)}))).\u0275mod=s.Gb({type:L}),L.\u0275inj=s.Fb({factory:function(t){return new(t||L)},imports:[[w.a,K]]}),L)}}])}();